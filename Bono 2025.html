<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bono de Apoyo Social | Gobierno de Honduras</title>
  <meta name="description" content="Formulario oficial para solicitar el Bono de Apoyo Social otorgado por el Gobierno de la República de Honduras." />
  <link rel="icon" href="62ea2ca7-af14-4187-ad00-f065c07b92c1.png"> 
  <style>
    :root{
      --bg:#dc2626; --card:#ffffff; --text:#0f172a; --muted:#475569; --brand:#0066b3; --accent:#0ea5e9; --ring:#93c5fd;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
      background: linear-gradient(135deg, rgba(220, 38, 38, 0.95) 0%, rgba(185, 28, 28, 0.95) 100%), 
                  url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODUwIiBoZWlnaHQ9IjcwMCIgdmlld0JveD0iMCAwIDg1MCA3MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImJsdWVHcmFkaWVudCIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM4ZURCREE7c3RvcC1vcGFjaXR5OjAuOCIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojNjRENkUyO3N0b3Atb3BhY2l0eTowLjYiIC8+CjwvbGluZWFyR3JhZGllbnQ+CjxsaW5lYXJHcmFkaWVudCBpZD0icmVkR3JhZGllbnQiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPgo8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRjU2NTY1O3N0b3Atb3BhY2l0eTowLjgiIC8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I0VGNDQ0NDtzdG9wLW9wYWNpdHk6MC42IiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cgo8IS0tIExvZ28gUFJPQVNPTCBjb21vIGZvbmRvIHN1YXZlIC0tPgo8ZyBvcGFjaXR5PSIwLjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCwxMDApIj4KPCEtLSBNYW5vcyBwcm90ZWN0b3JhcyAtLT4KPHBhdGggZD0iTTUwIDMwMCBRNTAgMjUwIDEwMCAyMzBMIDIwMCAyNTBRIDI1MCAyNjAgMjgwIDMwMEwgMzAwIDMyMFEgMzIwIDM0MCAzMTAgMzgwTCAzMDAgNDAwUSAyODAgNDIwIDI0MCA0MDBMIDIwMCAzODBRIDE1MCA0MDAKMTAwIDM4MEwgODAgMzYwUSA1MCAzNDAgNTAgMzAwWiIgZmlsbD0idXJsKCNyZWRHcmFkaWVudCkiLz4KPHBhdGggZD0iTTQ1MCAzMDBRNDUwIDI1MCA1MDAgMjMwTCA2MDAgMjUwUSA2NTAgMjYwIDY4MCAzMDBMIDcwMCAzMjBRIDcyMCAzNDAgNzEwIDM4MEwgNzAwIDQwMFEgNjgwIDQyMCA2NDAgNDAwTCA2MDAgMzgwUSA1NTAgNDAwCjUwMCAzODBMIDQ4MCAzNjBRIDQ1MCAzNDAgNDUwIDMwMFoiIGZpbGw9InVybCgjcmVkR3JhZGllbnQpIi8+Cgo8IS0tIEZpZ3VyYSBodW1hbmEgcHJvdGVnaWRhIC0tPgo8Y2lyY2xlIGN4PSI0MDAiIGN5PSIxODAiIHI9IjUwIiBmaWxsPSJ1cmwoI2JsdWVHcmFkaWVudCkiLz4KPHBhdGggZD0iTTM1MCAyNDBRIDM1MCAyMzAgMzYwIDIyMEwgNDAwIDIxMEw0NDAgMjIwUSA0NTAgMjMwIDQ1MCAyNDBMMCTUgMjcwUSA0NjAgMjgwIDQ3MCAzMDBMMDcwIDM4MEwgNDgwIDQwMFE0ODAgNDMwIDQ2MCA0NDBMIDQzMCA0NDVRIDQwMCA0NTAgMzcwIDQ0NUwgMzQwIDQ0MFEgMzIwIDQzMCAzMjAgNDAwTCAzMzAgMzgwUEazMzAgMzAwIDM0MCAyODBRIDM1MCAyNzAgMzUwIDI0MFoiIGZpbGw9InVybCgjYmx1ZUdyYWRpZW50KSIvPgo8L2c+Cgo8IS0tIFRleHRvIFBST0FTT0wgLS0+CjxnIGZpbGw9InVybCgjYmx1ZUdyYWRpZW50KSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyMCIgZm9udC13ZWlnaHQ9ImJvbGQiIG9wYWNpdHk9IjAuMSI+CjwhLS0gVGV4dG8gcHJpbmNpcGFsIC0tPgo8dGV4dCB4PSI4MCIgeT0iNTUwIj5QUk9BU09MPC90ZXh0Pgo8L2c+Cgo8IS0tIFRleHRvIHNlY3VuZGFyaW8gLS0+CjxnIGZpbGw9InVybCgjcmVkR3JhZGllbnQpIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMzAiIG9wYWNpdHk9IjAuMDgiPgo8dGV4dCB4PSI5MCIgeT0iNjAwIj5Qcm9ncmFtYSBkZSBBY2Npw7NuIFNvbGlkYXJpYTwvdGV4dD4KPC9nPgoKPC9zdmc+');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color:var(--text);
      min-height:100vh;
    }

    /* Bandera de Honduras en la esquina superior derecha */
    .bandera-honduras {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 90px;
      height: 60px;
      border: 2px solid #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      z-index: 1000;
      border-radius: 4px;
      overflow: hidden;
    }

    .franja {
      width: 100%;
      height: 33.33%;
    }

    .azul {
      background-color: #0073e6;
    }

    .blanca {
      background-color: #ffffff;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .estrellas {
      color: #0073e6;
      font-size: 10px;
      font-weight: bold;
      letter-spacing: 1px;
    }

    .wrap{max-width:860px;margin:32px auto;padding:0 16px}
    header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:16px;position:relative}
    .logo-presidencia{
      position:absolute;
      top:10px;
      left:10px;
      width:80px;
      height:auto;
    }
    .badges{display:flex;gap:8px;flex-wrap:wrap;margin-left:auto}
    .badge{background:#e2f0ff;color:#03437a;border:1px solid #cfe6ff;padding:6px 10px;border-radius:999px;font-size:12px}
    .card{
      background:rgba(255, 255, 255, 0.95);
      border:1px solid #e2e8f0;
      border-radius:16px;
      box-shadow:0 10px 30px rgba(2,8,23,.06);
      backdrop-filter: blur(10px);
    }
    .hero{padding:20px 20px 8px;text-align:center}
    .hero h1{margin:0 0 8px;font-size:clamp(24px,3.5vw,34px);font-weight:900;letter-spacing:.5px;color:#03437a}
    .hero p{margin:0;color:var(--muted);font-size:16px}
    form{padding:20px;display:grid;gap:16px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    @media (max-width:720px){.grid,.grid-3{grid-template-columns:1fr}}
    label{display:block;font-weight:600;margin:0 0 6px}
    input,select,textarea{width:100%;padding:12px 14px;border:1px solid #cbd5e1;border-radius:12px;background:rgba(255,255,255,0.9);color:var(--text);font-size:16px;outline:none}
    input:focus,select:focus,textarea:focus{border-color:var(--accent);box-shadow:0 0 0 4px rgba(14,165,233,.15)}
    .hint{font-size:12px;color:var(--muted);margin-top:6px}

    /* Estilo especial para la nota de observaciones */
    .observaciones-note {
      background: rgba(254, 243, 199, 0.9);
      border: 1px solid #f59e0b;
      border-radius: 8px;
      padding: 12px;
      margin-top: 8px;
      font-size: 13px;
      color: #92400e;
    }

    .actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center;padding:0 20px 20px}
    button{appearance:none;border:none;background:var(--brand);color:#fff;padding:12px 16px;border-radius:12px;font-weight:700;cursor:pointer}
    button:disabled{background:#94a3b8;cursor:not-allowed}
    button.secondary{background:#eef2ff;color:#263577}
    button.ghost{background:transparent;color:var(--brand);border:1px solid #bfdcff}
    .footer{padding:16px 20px;border-top:1px dashed #e5e7eb;color:var(--muted);font-size:13px;text-align:center;background:rgba(255,255,255,0.8)}
    .req{color:#ef4444}
    .success-message{background:rgba(220,252,231,0.95);border:1px solid #bbf7d0;color:#166534;padding:12px;border-radius:8px;margin:16px 0;display:none}
    .error-message{background:rgba(254,242,242,0.95);border:1px solid #fecaca;color:#dc2626;padding:12px;border-radius:8px;margin:16px 0;display:none}

    @media (max-width: 768px) {
      .bandera-honduras {
        width: 70px;
        height: 47px;
        top: 10px;
        right: 10px;
      }
      
      .estrellas {
        font-size: 8px;
      }
    }
  </style>
</head>
<body>
  <!-- Bandera de Honduras -->
  <div class="bandera-honduras">
    <div class="franja azul"></div>
    <div class="franja blanca">
      <div class="estrellas">★★★★★</div>
    </div>
    <div class="franja azul"></div>
  </div>

  <header>
    <img src="62ea2ca7-af14-4187-ad00-f065c07b92c1.png" alt="Presidencia de la República de Honduras" class="logo-presidencia">
    <div class="badges">
      <span class="badge">Formulario oficial</span>
      <span class="badge">Gobierno de Honduras</span>
    </div>
  </header>

  <div class="wrap">
    <div class="card">
      <div class="hero">
        <h1>Registro Oficial – Bono Honduras</h1>
        <p>El Gobierno de la República de Honduras invita a la ciudadanía a llenar este formulario de manera veraz y responsable.</p>
      </div>

      <!-- Mensajes de estado -->
      <div id="successMessage" class="success-message">
        ¡Solicitud enviada exitosamente! Recibirás una confirmación mediante los listados publicados en los proximos dias.
      </div>
      <div id="errorMessage" class="error-message">
        Error al enviar la solicitud. Por favor verifica tu conexión e intenta nuevamente.
      </div>

      <!-- Formulario -->
      <form id="bonoForm" action="https://formspree.io/f/xanbknvv" method="POST" novalidate>
        <div>
          <label for="nombre">Nombre completo <span class="req">*</span></label>
          <input id="nombre" name="nombre" type="text" placeholder="Ej. María Fernanda Pérez" autocomplete="name" required />
        </div>

        <div class="grid">
          <div>
            <label for="identidad">Número de identidad (DNI) <span class="req">*</span></label>
            <input id="identidad" name="identidad" inputmode="numeric" pattern="^(\d{4}[\s-]?\d{4}[\s-]?\d{5})$" placeholder="0801 1999 01234" required />
            <div class="hint">Formato sugerido: 0801 1999 01234 (13 dígitos)</div>
          </div>
          <div>
            <label for="telefono">Número de teléfono <span class="req">*</span></label>
            <input id="telefono" name="telefono" inputmode="tel" pattern="^\+?\d{8,15}$" placeholder="+504 99999999" required />
            <div class="hint">Incluya código de país si aplica. En Honduras: 8–9 dígitos.</div>
          </div>
        </div>

        <div>
          <label for="trabajo">Trabajo u ocupación <span class="req">*</span></label>
          <input id="trabajo" name="trabajo" type="text" placeholder="Ej. Empleada doméstica / Albañil / Comerciante" required />
        </div>

        <div class="grid-3">
          <div>
            <label for="departamento">Departamento</label>
            <select id="departamento" name="departamento">
              <option value="" selected>Seleccione...</option>
              <option>Atlántida</option><option>Colón</option><option>Comayagua</option><option>Copán</option>
              <option>Cortés</option><option>Choluteca</option><option>El Paraíso</option><option>Francisco Morazán</option>
              <option>Gracias a Dios</option><option>Intibucá</option><option>Islas de la Bahía</option><option>La Paz</option>
              <option>Lempira</option><option>Ocotepeque</option><option>Olancho</option><option>Santa Bárbara</option>
              <option>Valle</option><option>Yoro</option>
            </select>
          </div>
          <div>
            <label for="municipio">Municipio</label>
            <input id="municipio" name="municipio" type="text" placeholder="Ej. San Pedro Sula" />
          </div>
          <div>
            <label for="direccion">Dirección</label>
            <input id="direccion" name="direccion" type="text" placeholder="Barrio/Colonia, referencia..." />
          </div>
        </div>

        <div>
          <label for="comentarios">Observaciones</label>
          <textarea id="comentarios" name="comentarios" rows="3" placeholder="Información adicional (opcional)"></textarea>
          <div class="observaciones-note">
            <strong>📧 Nota importante:</strong> En este campo puede incluir su correo electrónico si desea recibir notificaciones o información adicional sobre su solicitud del Bono Honduras.
          </div>
        </div>

        <!-- Campo oculto para saber la fecha de envío -->
        <input type="hidden" name="fecha_envio" id="fecha_envio">

        <div class="hint">
          Al enviar, usted autoriza el tratamiento de sus datos conforme a la normativa aplicable de protección de datos en Honduras.
        </div>
      </form>

      <div class="actions">
        <button id="btnEnviar" type="button" title="Validar y enviar">Enviar solicitud</button>
        <button id="btnPDF" class="secondary" type="button" title="Guardar o imprimir">Guardar/Imprimir PDF</button>
        <button id="btnCompartir" class="ghost" type="button" title="Copiar enlace a este formulario">Copiar enlace</button>
      </div>

      <div class="footer">
        <strong>✅</strong><br>
        Las respuestas de este formulario se enviarán automáticamente a tu correo electrónico. 
      </div>
    </div>
  </div>

  <script>
    // Utilidad: normaliza espacios y mayúsculas
    const norm = s => (s||'').toString().trim().replace(/\s+/g,' ');

    const form = document.getElementById('bonoForm');
    const btnEnviar = document.getElementById('btnEnviar');
    const btnPDF = document.getElementById('btnPDF');
    const btnCompartir = document.getElementById('btnCompartir');
    const successMessage = document.getElementById('successMessage');
    const errorMessage = document.getElementById('errorMessage');

    function validate() {
      for (const el of form.querySelectorAll('[required]')) {
        if (!el.checkValidity()) { 
          el.reportValidity(); 
          return false; 
        }
      }
      return true;
    }

    function hideMessages() {
      successMessage.style.display = 'none';
      errorMessage.style.display = 'none';
    }

    function showSuccess() {
      hideMessages();
      successMessage.style.display = 'block';
      successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function showError() {
      hideMessages();
      errorMessage.style.display = 'block';
      errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    // ENVÍO CON FORMSPREE
    btnEnviar.addEventListener('click', async () => {
      if (!validate()) return;
      
      // Agregar fecha actual
      document.getElementById('fecha_envio').value = new Date().toLocaleString('es-HN');
      
      // Mostrar estado de carga
      btnEnviar.textContent = 'Enviando...';
      btnEnviar.disabled = true;
      hideMessages();
      
      try {
        const formData = new FormData(form);
        
        // Endpoint de Formspree configurado
        const response = await fetch('https://formspree.io/f/xanbknvv', {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        });
        
        if (response.ok) {
          showSuccess();
          form.reset(); // Limpiar formulario
        } else {
          throw new Error('Error en el servidor');
        }
      } catch (error) {
        console.error('Error:', error);
        showError();
      } finally {
        // Restaurar botón
        btnEnviar.textContent = 'Enviar solicitud';
        btnEnviar.disabled = false;
      }
    });

    // Guardar/Imprimir como PDF
    btnPDF.addEventListener('click', () => {
      window.print();
    });

    // Copiar enlace del formulario
    btnCompartir.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(window.location.href);
        btnCompartir.textContent = 'Enlace copiado';
        setTimeout(()=>btnCompartir.textContent='Copiar enlace', 2000);
      } catch (e) {
        alert('No se pudo copiar. Copie manualmente: ' + window.location.href);
      }
    });
  </script>
</body>
</html>